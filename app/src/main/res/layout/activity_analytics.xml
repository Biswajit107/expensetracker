<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/background"
    android:fitsSystemWindows="true">

    <com.google.android.material.appbar.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <com.google.android.material.appbar.MaterialToolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:title="Analytics"
            app:titleTextColor="@color/white"/>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_marginBottom="56dp"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <!-- Month Selector -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/monthSelector"
                style="@style/Widget.MaterialComponents.Button.OutlinedButton"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center_horizontal"
                android:layout_marginBottom="20dp"
                android:text="December 2024"
                android:textColor="?attr/colorPrimary"
                app:icon="@drawable/ic_calendar"
                app:iconTint="?attr/colorPrimary" />

            <!-- Monthly Overview Hero Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="8dp"
                app:cardCornerRadius="16dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="24dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Monthly Overview"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="16dp" />

                    <!-- Three Column Layout -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginBottom="20dp">

                        <!-- Earned Column -->
                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="EARNED"
                                android:textSize="12sp"
                                android:textColor="@color/text_secondary"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/totalIncomeText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="â‚¹0"
                                android:textSize="18sp"
                                android:textStyle="bold"
                                android:textColor="@color/green" />

                            <TextView
                                android:id="@+id/incomeChangeText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0%"
                                android:textSize="11sp"
                                android:textColor="@color/green" />
                        </LinearLayout>

                        <!-- Spent Column -->
                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="SPENT"
                                android:textSize="12sp"
                                android:textColor="@color/text_secondary"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/totalExpensesText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="â‚¹0"
                                android:textSize="18sp"
                                android:textStyle="bold"
                                android:textColor="@color/red" />

                            <TextView
                                android:id="@+id/expenseChangeText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0%"
                                android:textSize="11sp"
                                android:textColor="@color/green" />
                        </LinearLayout>

                        <!-- Saved Column -->
                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="SAVED"
                                android:textSize="12sp"
                                android:textColor="@color/text_secondary"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/savedAmountText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="â‚¹0"
                                android:textSize="18sp"
                                android:textStyle="bold"
                                android:textColor="@color/yellow_dark" />

                            <TextView
                                android:id="@+id/savingsChangeText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0%"
                                android:textSize="11sp"
                                android:textColor="@color/green" />
                        </LinearLayout>
                    </LinearLayout>

                    <!-- Budget Health -->
                    <TextView
                        android:id="@+id/budgetHealthText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Budget Health: Calculating..."
                        android:textSize="16sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="8dp" />

                    <!-- Budget Progress Bar -->
                    <com.google.android.material.progressindicator.LinearProgressIndicator
                        android:id="@+id/budgetProgressBar"
                        android:layout_width="match_parent"
                        android:layout_height="8dp"
                        android:progress="78"
                        app:indicatorColor="@color/green"
                        app:trackColor="@color/gray_light"
                        app:trackCornerRadius="4dp" />

                    <TextView
                        android:id="@+id/budgetPercentageText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="0% of budget used"
                        android:textSize="12sp"
                        android:textColor="@color/text_secondary"
                        android:layout_marginTop="4dp" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Quick Insights Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Quick Insights"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/biggestExpenseText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Biggest expense: Calculating..."
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/mostFrequentText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Most frequent: Calculating..."
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/savingsTargetText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Saved vs target: Calculating..."
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/daysToPaydayText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Days to month end: Calculating..."
                        android:textSize="14sp"
                        android:textColor="@color/text_primary" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Month-End Predictions Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/info_background">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Month-End Predictions"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/expectedTotalText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Expected Total: â‚¹0"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:id="@+id/budgetTargetText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Budget: â‚¹0"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="8dp" />

                    <TextView
                        android:id="@+id/predictionStatusText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Calculating prediction..."
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:textStyle="bold"
                        android:layout_marginBottom="4dp" />

                    <TextView
                        android:id="@+id/confidenceText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Confidence: 0%"
                        android:textSize="12sp"
                        android:textColor="@color/text_secondary" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Recurring Expenses Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Recurring Expenses Detected"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <androidx.recyclerview.widget.RecyclerView
                        android:id="@+id/recurringExpensesRecyclerView"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:nestedScrollingEnabled="false" />

                    <TextView
                        android:id="@+id/totalRecurringText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Total recurring: â‚¹19,049/month"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:textStyle="bold"
                        android:layout_marginTop="8dp" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Spending Velocity Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Spending Velocity &amp; Burn Rate"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/currentBurnRateText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Current rate: â‚¹1,200/day"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/burnRateChangeText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Last month: â‚¹1,400/day (-14%)"
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/daysOfMoneyText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ At this pace: 18 days of money"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/burnRateStatusText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Burn Rate: Improving"
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:textStyle="bold" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Top Merchants Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Top Merchants"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <androidx.recyclerview.widget.RecyclerView
                        android:id="@+id/topMerchantsRecyclerView"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:nestedScrollingEnabled="false" />

                    <TextView
                        android:id="@+id/topMerchantsSummaryText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Top 3 = 33% of spending"
                        android:textSize="14sp"
                        android:textColor="@color/text_secondary"
                        android:layout_marginTop="8dp" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Transaction Behavior Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Transaction Behavior"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/smallTransactionsText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Small (â‚¹1-500): 45 txns (53%)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/mediumTransactionsText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Medium (â‚¹500-2K): 28 txns (33%)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/largeTransactionsText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Large (â‚¹2K+): 12 txns (14%)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="8dp" />

                    <TextView
                        android:id="@+id/transactionPatternText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Pattern: Many small + Few large"
                        android:textSize="14sp"
                        android:textColor="@color/text_secondary"
                        android:textStyle="italic" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Transaction Frequency Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Transaction Frequency"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/avgTransactionsText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Average: 3.2 transactions/day"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/mostActiveText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Most active: Friday (5.1/day)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/leastActiveText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Least active: Sunday (1.8/day)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/totalTransactionsText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ 85 total transactions this month"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Time-Based Spending Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="When You Spend Most"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/morningSpendingText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ðŸŒ… Morning (6-12): â‚¹4,200 (15%)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/afternoonSpendingText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â˜€ï¸ Afternoon (12-6): â‚¹12,800 (45%)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/eveningSpendingText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ðŸŒ™ Evening (6-12): â‚¹11,200 (40%)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="8dp" />

                    <TextView
                        android:id="@+id/timeInsightText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ðŸ’¡ Most spending during lunch hours"
                        android:textSize="14sp"
                        android:textColor="@color/text_secondary"
                        android:textStyle="italic" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Financial Health Score Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/green_light">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Financial Health Score"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/healthScoreText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Your Score: 82/100 ðŸŸ¢"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:textColor="@color/green_dark"
                        android:gravity="center"
                        android:layout_marginBottom="16dp" />

                    <TextView
                        android:id="@+id/spendingControlText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="âœ… Spending Control: 9/10"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/savingsRateText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="âœ… Savings Rate: 8/10"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/emergencyFundText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="âš ï¸ Emergency Buffer: 7/10"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="8dp" />

                    <TextView
                        android:id="@+id/healthImprovementText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ðŸš€ +5 points vs last month"
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:textStyle="bold" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Spending Efficiency Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Spending Efficiency"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/avgTransactionAmountText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Avg per transaction: â‚¹892"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/efficiencyScoreText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Efficiency score: 78/100"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="6dp" />

                    <TextView
                        android:id="@+id/impulsePurchasesText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="â€¢ Impulse purchases: 12% (â†“ from 18%)"
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:layout_marginBottom="8dp" />

                    <TextView
                        android:id="@+id/efficiencyStatusText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Getting more efficient"
                        android:textSize="14sp"
                        android:textColor="@color/green"
                        android:textStyle="bold" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Spending Pace Card -->
            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardElevation="4dp"
                app:cardCornerRadius="12dp"
                app:cardBackgroundColor="@color/surface">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="ðŸ“ˆ This Month's Pace"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="12dp" />

                    <TextView
                        android:id="@+id/dailyAverageText"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Daily avg: â‚¹1,059 (vs â‚¹1,200 last month)"
                        android:textSize="14sp"
                        android:textColor="@color/text_primary"
                        android:layout_marginBottom="16dp" />

                    <!-- Progress Visualization -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <com.google.android.material.progressindicator.LinearProgressIndicator
                            android:id="@+id/monthProgressBar"
                            android:layout_width="match_parent"
                            android:layout_height="8dp"
                            android:progress="60"
                            app:indicatorColor="?attr/colorPrimary"
                            app:trackColor="@color/gray_light"
                            app:trackCornerRadius="4dp"
                            android:layout_marginBottom="8dp" />

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:gravity="center_vertical">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:text="Month Start"
                                android:textSize="11sp"
                                android:textColor="@color/text_secondary" />

                            <TextView
                                android:id="@+id/currentDayText"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="You're here (Day 18)"
                                android:textSize="11sp"
                                android:textColor="?attr/colorPrimary"
                                android:textStyle="bold" />

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:text="Month End"
                                android:textSize="11sp"
                                android:textColor="@color/text_secondary"
                                android:gravity="end" />
                        </LinearLayout>
                    </LinearLayout>
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <!-- Hidden old elements for compatibility -->
            <com.github.mikephil.charting.charts.PieChart
                android:id="@+id/pieChart"
                android:layout_width="match_parent"
                android:layout_height="200dp"
                android:visibility="gone" />

            <com.github.mikephil.charting.charts.LineChart
                android:id="@+id/lineChart"
                android:layout_width="match_parent"
                android:layout_height="200dp"
                android:visibility="gone" />

            <com.github.mikephil.charting.charts.BarChart
                android:id="@+id/trendChart"
                android:layout_width="match_parent"
                android:layout_height="200dp"
                android:visibility="gone" />

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/categoryList"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:visibility="gone" />

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/categoryBudgetList"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:visibility="gone" />

        </LinearLayout>
    </androidx.core.widget.NestedScrollView>

    <!-- Bottom Navigation -->
    <com.google.android.material.bottomnavigation.BottomNavigationView
        android:id="@+id/bottomNavigation"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        app:menu="@menu/bottom_nav_menu"/>

</androidx.coordinatorlayout.widget.CoordinatorLayout>